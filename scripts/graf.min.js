var Graf={m_chartType:null,m_canvas:null,m_context:null,m_width:null,m_height:null,m_color:null,m_style:null,m_graf_link:!0,m_labels:null,m_data:null,m_dataCords:{},m_labelsCords:{},initialize:function(t,i,e,h){try{var r=Object.create(this),s=document.createElement("style");return s.innerHTML="body { margin : 0 !important; padding : 0 !important; } #"+t+" { display : block; }",document.head.appendChild(s),r.m_canvas=document.getElementById(t),r.m_context=r.m_canvas.getContext("2d"),i=i||{},r.m_style=h||{},i.hasOwnProperty("chartType")?r.m_chartType=i.chartType:r.m_chartType="normal",i.hasOwnProperty("width")?r.m_width=i.width:r.m_width=window.innerWidth,i.hasOwnProperty("height")?r.m_height=i.height:r.m_height=window.innerHeight,r.m_canvas.width=r.m_width,r.m_canvas.height=r.m_height,r.m_canvas.style="padding : 0; margin : 0;",i.hasOwnProperty("color")?r.m_color=i.color:r.m_color="#000000",e.hasOwnProperty("linker")?r.m_graf_link=e.linker:r.m_graf_link=!0,r}catch(o){console.log("Graf : A little bug is flying right there : "+o)}},drawCanvas:function(){try{switch(this.m_chartType){case"normal":var t=this.m_context;t.beginPath();var i=this.m_color;i=this.m_style.hasOwnProperty("xaxis_color")?this.m_style.xaxis_color:this.m_color,t.strokeStyle=i,t.lineWidth=1,t.moveTo(40,25),t.lineTo(40,this.m_height-40),t.stroke(),t.beginPath();var i=this.m_color;i=this.m_style.hasOwnProperty("yaxis_color")?this.m_style.yaxis_color:this.m_color,t.strokeStyle=i,t.moveTo(40,this.m_height-40),t.lineTo(this.m_width-34,this.m_height-40),t.stroke();break;case"cartesian":var t=this.m_context;t.beginPath();var i=this.m_color;i=this.m_style.hasOwnProperty("xaxis_color")?this.m_style.xaxis_color:this.m_color,t.strokeStyle=i,t.lineWidth=1,t.moveTo(this.m_width/2,25),t.lineTo(this.m_width/2,this.m_height-40),t.stroke(),t.beginPath();var i=this.m_color;i=this.m_style.hasOwnProperty("yaxis_color")?this.m_style.yaxis_color:this.m_color,t.strokeStyle=i,t.moveTo(280,this.m_height/2),t.lineTo(this.m_width-280,this.m_height/2),t.stroke()}}catch(e){console.log("Graf : A little bug is flying right there : "+e)}},drawTable:function(){var t=this.m_context;t.beginPath(),this.m_style.hasOwnProperty("table_lwidth")?t.lineWidth=this.m_style.table_lwidth:t.lineWidth=.1,this.m_style.hasOwnProperty("table_xspacing")?xpacing=this.m_style.table_xspacing:xpacing=27.5,this.m_style.hasOwnProperty("table_yspacing")?ypacing=this.m_style.table_xspacing:ypacing=30;for(var i=-15;i<=this.m_width;i+=xpacing)t.moveTo(i,0),t.lineTo(i,this.m_height);for(var e=-15;e<=this.m_height;e+=ypacing)t.moveTo(0,e),t.lineTo(this.m_width,e);t.stroke()},setupRep:function(){try{switch(this.m_chartType){case"normal":for(var t=this.m_context,i=(this.m_height-65)/this.m_data.length,e=(this.m_width- -44)/this.m_labels.length,h=70,r=37,s=0;s<this.m_data.length;s++){t.beginPath(),t.arc(h,this.m_height-40,5,2*Math.PI,0);var o="15px Arial";text_color=this.m_color,o=this.m_style.hasOwnProperty("font")?this.m_style.font:"15px Arial",this.m_style.hasOwnProperty("ytext_color")?text_color=this.m_style.ytext_color:text_color=this.m_color,t.font=o,t.fillStyle=text_color;var l=this.m_labels[s].length;t.fillText(this.m_labels[s],h-3*l,this.m_height-15),t.fill(),this.m_labelsCords[this.m_labels[s]]=h,h+=e}for(var s=0;s<this.m_labels.length;s++){t.beginPath(),t.arc(40,r,5,2*Math.PI,0);var o="15px Arial";text_color=this.m_color,o=this.m_style.hasOwnProperty("font")?this.m_style.font:"15px Arial",this.m_style.hasOwnProperty("xtext_color")?text_color=this.m_style.xtext_color:text_color=this.m_color,t.font=o,t.fillStyle=text_color,t.fillText(this.m_data[s],7,r+5),t.fill(),this.m_dataCords[this.m_data[s]]=r,r+=i}break;case"cartesian":for(var t=this.m_context,i=(this.m_height-65)/this.m_data.length,e=(this.m_width-560)/this.m_labels.length,h=338,r=76,s=0;s<this.m_data.length;s++){t.beginPath(),t.arc(h,this.m_height/2,5,2*Math.PI,0);var o="15px Arial";text_color=this.m_color,o=this.m_style.hasOwnProperty("font")?this.m_style.font:"15px Arial",this.m_style.hasOwnProperty("xtext_color")?text_color=this.m_style.xtext_color:text_color=this.m_color,t.font=o,t.fillStyle=text_color;var l=this.m_labels[s].length;t.fillText(this.m_labels[s],h-3*l,this.m_height/2+27),t.fill(),this.m_labelsCords[this.m_labels[s]]=h,h+=e}for(var s=0;s<this.m_labels.length;s++){t.beginPath(),t.arc(this.m_width/2,r,5,2*Math.PI,0);var o="15px Arial";text_color=this.m_color,o=this.m_style.hasOwnProperty("font")?this.m_style.font:"15px Arial",this.m_style.hasOwnProperty("ytext_color")?text_color=this.m_style.ytext_color:text_color=this.m_color,t.font=o,t.fillStyle=text_color,t.fillText(this.m_data[s],this.m_width/2+15,r+5),t.fill(),this.m_dataCords[this.m_data[s]]=r,r+=i}}}catch(a){console.log("Graf : A little bug is flying right there : "+a)}},draw:function(t,i){t.length>0&&i.length>0&&t.length==i.length&&t.length<22?(this.drawTable(),this.drawCanvas(),this.m_labels=t,this.m_data=i,this.setupRep()):console.log("Graf : Data length and labels length are not equal.")},placePoint:function(t,i){try{i=i||"rep";var e=this.m_context;switch(i){case"rep":for(var h=0;h<t.length;h++){var s=t[h][0],o=t[h][1],l=this.m_labelsCords[s],a=this.m_dataCords[o];e.beginPath();var n=5,_=!1;if(n=this.m_style.hasOwnProperty("point_radius")?this.m_style.point_radius:5,_=this.m_style.hasOwnProperty("point_hover")?this.m_style.point_hover:!1,t[h].length>2)var m=t[h][2];else var m="#000";var c=m.replace("#","");r=parseInt(c.substring(0,2),16),g=parseInt(c.substring(2,4),16),b=parseInt(c.substring(4,6),16);var y="rgba("+r+", "+g+", "+b+", 0.5)";t[h].length>2&&(e.fillStyle=y,e.arc(l,a,n+3,2*Math.PI,0),e.fill()),e.beginPath(),e.fillStyle=m,e.arc(l,a,n,2*Math.PI,0),e.fill()}if(this.m_graf_link){e.beginPath(),linker_color=this.m_color,linker_width=.3,this.m_style.hasOwnProperty("linker_color")?linker_color=this.m_style.linker_color:linker_color=this.m_color,this.m_style.hasOwnProperty("linker_width")?linker_width=this.m_style.linker_width:linker_width=.3,e.lineWidth=linker_width,e.strokeStyle=linker_color;var d=t[0][0],p=t[0][1],l=this.m_labelsCords[d],a=this.m_dataCords[p];e.moveTo(l,a);for(var h=1;h<t.length;h++){var d=t[h][0],p=t[h][1],l=this.m_labelsCords[d],a=this.m_dataCords[p];e.lineTo(l,a)}e.stroke()}break;case"plane":for(var e=this.m_context,h=0;h<t.length;h++){var l=t[h][0],a=t[h][1];l=l>this.m_width?40:l,a=a>this.m_height?this.m_height-40:a,e.beginPath();var _=!1;if(n=this.m_style.hasOwnProperty("point_radius")?this.m_style.point_radius:5,_=this.m_style.hasOwnProperty("point_hover")?this.m_style.point_hover:!1,t[h].length>2)var m=t[h][2];else var m="#000";var c=m.replace("#","");r=parseInt(c.substring(0,2),16),g=parseInt(c.substring(2,4),16),b=parseInt(c.substring(4,6),16);var y="rgba("+r+", "+g+", "+b+", 0.5)";t[h].length>2&&(e.fillStyle=y,e.arc(l,a,n+3,2*Math.PI,0),e.fill()),e.beginPath(),e.fillStyle=m,e.arc(l,a,n,2*Math.PI,0),e.fill()}if(this.m_graf_link){e.beginPath(),linker_color=this.m_color,linker_width=.3,this.m_style.hasOwnProperty("linker_color")?linker_color=this.m_style.linker_color:linker_color=this.m_color,this.m_style.hasOwnProperty("linker_width")?linker_width=this.m_style.linker_width:linker_width=.3,e.lineWidth=linker_width,e.strokeStyle=linker_color;var l=t[0][0],a=t[0][1];l=l>this.m_width?40:l,a=a>this.m_height?this.m_height-40:a,e.moveTo(l,a);for(var h=1;h<t.length;h++){var l=t[h][0],a=t[h][1];l=l>this.m_width?40:l,a=a>this.m_height?this.m_height-40:a,e.lineTo(l,a)}e.stroke()}}}catch(w){console.log("Graf : A little bug is flying right there : "+w)}},cartesianStartPoint:function(){return[this.m_width/2,this.m_height/2]},responsive:function(){var t=!1,i=this.m_context;t=this.m_style.hasOwnProperty("responsive")?this.m_style.responsive:!1,t&&(i.clearRect(0,0,this.m_width,this.m_height),this.m_width=window.innerWidth,this.m_height=window.innerHeight,this.draw(this.m_labels,this.m_data))},graphEquation:function(t,i,e,h){var h=h||{line_width:.3,line_color:"#000"},r=this.m_context;r.save(),r.translate(this.m_width/2,this.m_height/2),r.moveTo(i[0],t(i[0],e));for(var s=i[0]+e.iteration;s<=i[1];s++)r.lineTo(s,t(s,e));r.lineWidth=h.line_width,r.strokeStyle=h.line_color,r.stroke(),r.restore()},quadratic:function(t,i){var e=i.a*(t*t)+i.b*t+i.c;return e},sins:function(t,i){return i.offset*Math.sin(t)},coss:function(t,i){return i.offset*Math.cos(t)},Bezier:function(t){var i=this.m_context;i.beginPath();for(var e=0;1>e;e+=.1)if(0==e){var h=(1-e)*t[0].x+e*t[1].x,r=(1-e)*t[0].y+e*t[1].y;i.moveTo(h,r)}else{var h=(1-e)*t[0].x+e*t[1].x,r=(1-e)*t[0].y+e*t[1].y;i.lineTo(h,r)}i.stroke()},quadraticBezier:function(t){var i=this.m_context;i.beginPath();for(var e=0;1>e;e+=.1)if(0==e){var h=Math.pow(1-e,2)*t[0].x+2*e*(1-e)*t[1].x+Math.pow(e,2)*t[2].x,r=Math.pow(1-e,2)*t[1].y+2*e*(1-e)*t[1].y+Math.pow(e,2)*t[2].y;i.moveTo(h,r)}else{var h=Math.pow(1-e,2)*t[0].x+2*e*(1-e)*t[1].x+Math.pow(e,2)*t[2].x,r=Math.pow(1-e,2)*t[1].y+2*e*(1-e)*t[1].y+Math.pow(e,2)*t[2].y;i.lineTo(h,r)}i.stroke()},cubicBezier:function(t){var i=this.m_context;i.beginPath();for(var e=0;1>e;e+=.1)if(0==e){var h=Math.pow(1-e,3)*t[0].x+3*t[1].x*e*Math.pow(1-e,2)+3*t[2].x*Math.pow(e,2)*(1-e)+t[3].x*Math.pow(e,3),r=Math.pow(1-e,3)*t[0].y+3*t[1].y*e*Math.pow(1-e,2)+3*t[2].y*Math.pow(e,2)*(1-e)+t[3].y*Math.pow(e,3);i.moveTo(h,r)}else{var h=Math.pow(1-e,3)*t[0].x+3*t[1].x*e*Math.pow(1-e,2)+3*t[2].x*Math.pow(e,2)*(1-e)+t[3].x*Math.pow(e,3),r=Math.pow(1-e,3)*t[0].y+3*t[1].y*e*Math.pow(1-e,2)+3*t[2].y*Math.pow(e,2)*(1-e)+t[3].y*Math.pow(e,3);i.lineTo(h,r)}i.stroke()},context:function(){return this.m_context},translate:function(t,i){this.m_context.translate(t,i)},scale:function(t,i){this.m_context.scale(t,i)},drawPointCords:function(t,i,e){var h,r;e=e||{},r=e.hasOwnProperty("radius")?e.radius:5,h=e.hasOwnProperty("color")?e.color:this.m_color,this.m_context.beginPath(),this.m_context.arc(t,i,r,2*Math.PI,0),this.m_context.fillStyle=h,this.m_context.fill()},drawPointRep:function(t,i,e){var h,r,s=this.m_labelsCords[t],o=this.m_dataCords[i];e=e||{},r=e.hasOwnProperty("radius")?e.radius:5,h=e.hasOwnProperty("color")?e.color:this.m_color,this.m_context.beginPath(),this.m_context.arc(s,o,r,2*Math.PI,0),this.m_context.fillStyle=h,this.m_context.fill()}};
